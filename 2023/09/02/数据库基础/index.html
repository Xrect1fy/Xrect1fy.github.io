<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>数据库基础 | Xrect1fy's blog</title><meta name="author" content="Xrect1fy"><meta name="copyright" content="Xrect1fy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库基础入门,关系数据库语言SQL应用">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库基础">
<meta property="og:url" content="http://xrect1fy.github.io/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Xrect1fy&#39;s blog">
<meta property="og:description" content="数据库基础入门,关系数据库语言SQL应用">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020112385.png">
<meta property="article:published_time" content="2023-09-01T17:07:00.000Z">
<meta property="article:modified_time" content="2023-09-02T16:19:23.647Z">
<meta property="article:author" content="Xrect1fy">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="理论课">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020112385.png"><link rel="shortcut icon" href="/img/tx.jpg"><link rel="canonical" href="http://xrect1fy.github.io/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据库基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-03 00:19:23'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/tx.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> Friends</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Xrect1fy's blog"><img class="site-icon" src="/./img/tx.jpg"/><span class="site-name">Xrect1fy's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> Friends</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">数据库基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-01T17:07:00.000Z" title="发表于 2023-09-02 01:07:00">2023-09-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-02T16:19:23.647Z" title="更新于 2023-09-03 00:19:23">2023-09-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91/">开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据库基础"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="数据库系统原理-期末速成"><a href="#数据库系统原理-期末速成" class="headerlink" title="数据库系统原理-期末速成"></a>数据库系统原理-期末速成</h1><p>应对期末考试,快速过一遍数据库系统原理</p>
<h2 id="1-数据库概览"><a href="#1-数据库概览" class="headerlink" title="1. 数据库概览"></a>1. 数据库概览</h2><h3 id="1-1数据库管理技术的发展"><a href="#1-1数据库管理技术的发展" class="headerlink" title="1.1数据库管理技术的发展"></a>1.1数据库管理技术的发展</h3><p>1.数据的含义称为数据的语义。例：93是一个数字，语义1：学生某课成绩。语义2：某人的体重。<br>2.数据管理时数据处理的核心。</p>
<h3 id="1-2理解数据库系统"><a href="#1-2理解数据库系统" class="headerlink" title="1.2理解数据库系统"></a>1.2理解数据库系统</h3><p>3.数据库(DB)是长期储存在计算机内、有组织的、可共享的大量数据集合。<br>4.数据库管理系统(DBMS) 是位于用户与操作系统之间的一层数据管理软件。例如Mysql,Mssql,Oracle等。<br>5.数据库系统(DBS) 是指带有数据库并利用数据库技术进行数据管理的计算机系统。</p>
<h3 id="1-3数据库系统体系结构"><a href="#1-3数据库系统体系结构" class="headerlink" title="1.3数据库系统体系结构"></a>1.3数据库系统体系结构</h3><p>1.三级模式: 外模式、模式、内模式<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011928833.png" style="zoom:50%;" /></p>
<blockquote>
<p>a.模式: </p>
<p>1.数据库中全体数据的逻辑结构和特征的描述。</p>
<p>2.一个数据库只有一个模式。</p>
</blockquote>
<blockquote>
<p>b.外模式:</p>
<p>1.是模式子集。外模式面向具体应用,是数据库用户所能使用的局部数据的逻辑结构和特征的描述。</p>
<p>2.一个数据库可以有多个外模式</p>
</blockquote>
<blockquote>
<p>c.内模式(存储模式)</p>
<p>1.是数据库的物理结构。</p>
<p>2.一个数据库只有一个内模式。</p>
</blockquote>
<p>2.数据库系统的二级映像:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011932692.png" style="zoom: 50%;" />

<blockquote>
<p>外模式&#x2F;模式映像:</p>
<p>1.定义了外模式与模式的对应关系。</p>
<p>2.外模式&#x2F;模式映像保证了数据的逻辑独立性。</p>
</blockquote>
<blockquote>
<p>模式&#x2F;内模式映像:</p>
<p>1.定义了数据库全局逻辑结构与存储结构之间的对应关系。</p>
<p>2.模式&#x2F;内模式映像保证了数据库的物理独立性。</p>
</blockquote>
<h3 id="1-4数据模型"><a href="#1-4数据模型" class="headerlink" title="1.4数据模型"></a>1.4数据模型</h3><p>1.模型是现实世界特征的模拟与抽象。<br>2.数据模型的层次: 概念数据模型-&gt;逻辑数据模型-&gt;物理数据模型<br>3.两步抽象: 1.现实世界中的客观对象抽象为概念模型 2.把概念模型转换为某一DBMS支持的数据模型。</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011936122.png" style="zoom:50%;" />


<p>概念模型的表示方法(重点!)<br>实体-联系方法(E-R方法)<br>1.E-R三要素: 实体、属性、联系<br>2.E-R图</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011939252.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011940748.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011940807.png" style="zoom:50%;" />

<p>几种联系的画法参考书或课件!</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011941939.png" style="zoom:50%;" />



<p>E-R图例题:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011942233.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011942584.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011942160.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011943869.png" style="zoom:50%;" />

<p>逻辑数据模型三要素: 1.数据结构 2.数据操作 3.数据的约束条件<br>逻辑数据模型的类别: 1.格式化模型 2.关系模型 3.面向对象模型 4.对象关系模型</p>
<h2 id="2-关系数据模型"><a href="#2-关系数据模型" class="headerlink" title="2.关系数据模型"></a>2.关系数据模型</h2><h3 id="2-1关系数据结构"><a href="#2-1关系数据结构" class="headerlink" title="2.1关系数据结构"></a>2.1关系数据结构</h3><p>1.一个关系就是一个规范化的二维表。规范化是指表中每列都是原子项,即没有表中表。<br>一个关系由关系名(表名)、关系模式(表头)和关系实例(数据)组成。<br>2.二维表基本术语:</p>
<ol>
<li>关系: 二维表</li>
<li>元祖: 二维表中的一行即为一个元祖</li>
<li>属性: 二维表中的一列即为一个属性</li>
<li>码: 表中可唯一确定元祖的单个属性或属性组</li>
<li>域: 属性的取值范围</li>
<li>分量: 元组中的一个属性值</li>
<li>关系模式: 对关系”型”描述 。通常表示为: 关系名(属性1,属性2,…,属性n)</li>
</ol>
<p>3.笛卡尔积</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011956925.png" style="zoom:50%;" />

<p>例如:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309011959326.png" style="zoom:50%;" />

<p>元祖: 笛卡尔积中每一个元素交n元祖或元祖<br>分量: 笛卡尔积元祖(d1,d2,…,dn) 中的每一个值di 叫做一个分量<br>基数: 每个域中元素的数量的乘积。如上例中，即为2x2x3<br>笛卡尔积表示方法:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012003776.png" style="zoom: 50%;" />


<p>4.关系:</p>
<ol>
<li><p>D1xD2x…xDn的子集成为在域D1,D2,…,Dn上的关系,表示为 R (D1,D2,…,Dn)。R为关系名, n:关系的目或度。</p>
</li>
<li><p>关系中的每个元素是关系中的元祖,通常用t表示。<br>5.关系模式</p>
<ol>
<li>定义通常简记为R(U) 或R(A1,A2,…,An)</li>
<li>关系模式是型, 关系式值</li>
</ol>
</li>
</ol>
<p>6.关系数据库:</p>
<pre><code>1. 在一个给定的应用领域中,所有实体及实体之间联系的关系的集合构成一个关系数据库。
1. 关系数据库的型称为关系数据库模式。关系数据库的值称为关系数据库。
1. 关系元祖中允许出现空值。空置代表未知的值或不存在的值。一般用关键词NULL表示。
</code></pre>
<p>7.码<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012018972.png" style="zoom:50%;" /></p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012023942.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012023027.png" style="zoom:50%;" />

<p>具体内容参照教材或课程ppt!</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012017070.png" style="zoom:50%;" />

<h3 id="2-2关系操作"><a href="#2-2关系操作" class="headerlink" title="2.2关系操作"></a>2.2关系操作</h3><p>1.关系代数: 将关系看成元祖的集合,运算从关系的”水平”方向即行的角度来进行<br>2.表示记号</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012044374.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012045249.png" style="zoom:50%;" />

<p>3.关系操作实例:<br>并, 提取出R和S各自的元祖,去重后组合在一起</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012045918.png" style="zoom:50%;" />


<p>差  R-S&#x3D;R减去R和S共有的部分<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012047817.png" style="zoom:50%;" /></p>
<p>交 R和S共有的部分<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012047723.png" style="zoom:50%;" /></p>
<p>笛卡尔积<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012049034.png" style="zoom:50%;" /></p>
<p>4.专门的运算符!</p>
<p>​	1.选择: 从行的角度进行运算:<br>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012051934.png" style="zoom:50%;" /></p>
<p>​	2.投影: 从列的角度进行运算:<br>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012052241.png" style="zoom:50%;" /></p>
<p>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012053932.png" style="zoom:50%;" /></p>
<p>​	3.连接: 从R和S的广义笛卡尔积RXS中选取满足给定关系的元祖<br>​		1.一般连接<br>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012054264.png" style="zoom:50%;" /></p>
<p>​		2.等值连接:<br>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012055490.png" style="zoom:50%;" /></p>
<p>​		3.自然连接: 和前两者相比,需要取消重复列<br>​	<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012057007.png" style="zoom:50%;" /></p>
<p>​	4.外连接: 左外连接,又外连接,外连接<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012058088.png" style="zoom:50%;" /></p>
<p>​		左外连接以左边R为主,结果中包含左表中全部的行,以及右表中所有匹配的行。右外连接相反。<br>​		全外连接：自然连接中把舍弃的元祖都保存在结果中，而在其他属性上填空值(NULL)</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012100012.png" style="zoom:50%;" />

<p>​	5.除<br>​		像极:<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012103740.png" style="zoom:50%;" /><br>​		除法:<br><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012104072.png" style="zoom:50%;" /></p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012105660.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012105920.png" style="zoom:50%;" />



<h2 id="3-关系数据库语言SQL"><a href="#3-关系数据库语言SQL" class="headerlink" title="3.关系数据库语言SQL"></a>3.关系数据库语言SQL</h2><h3 id="3-1-SQL概述"><a href="#3-1-SQL概述" class="headerlink" title="3.1 SQL概述"></a>3.1 SQL概述</h3><p>1.SQL结构化查询语言是关系数据库的标准语言。<br>2.SQL特点: 综合统一、高度非过程化、面向集合的操作方式、以同一种语法结构提供两种使用方法、语言简洁易学易用。<br>3.基本表：独立存在于数据库中的表，是“实表”<br>4.视图是从一个或几个基本表导出的表，是“虚表”。它本身不存在与数据库中，数据库中只存放视图的定义，而不存放视图对应的数据，这些数据仍存放在导出视图的基本表中。当基本表中数据变化时，视图中查询出来的数据也随之改变。<br>5.数据库是逻辑的，存储文件时物理的。数据库的所有信息都保存在存储文件中。<br>6.索引：索引是根据索引表达式的值进行逻辑排序的一组指针，可以实现对数据的快速访问。是关系数据库的内部实现技术，属于内模式，被存放在存储文件中。</p>
<h3 id="3-2-SQL语言的数据类型"><a href="#3-2-SQL语言的数据类型" class="headerlink" title="3.2 SQL语言的数据类型"></a>3.2 SQL语言的数据类型</h3><p>1.数值型：包括整形(bigint、int、smallint、tinyint、bit)、定点实数(numeric、decimal)、浮点数(float、real)。<br>2.字符型: 包括定长字符串char和变长字符串varchar。<br>3.Unicode字符型: 包括nchar[(n)]和nvarchar[(n)]两类。<br>4.文本型: 包括text和ntext两类。<br>5.日期时间类型: 包括datetime和smalldatetime两类。用户以字符串形式输入日期时间类型数据，系统也以字符串形式输出日期时间类型数据。<br>例如: 2009-10-10 7:18:18 PM &#x2F;*12小时格式*&#x2F;<br>2009-10-10 19:18:18 &#x2F;*24小时格式*&#x2F;<br>6.二进制数据类型表示为位数据流。</p>
<h3 id="3-3-数据定义"><a href="#3-3-数据定义" class="headerlink" title="3.3 数据定义"></a>3.3 数据定义</h3><p>在学习前，先把环境搭一下。<br>参考文章<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46081857/article/details/128127425">https://blog.csdn.net/weixin_46081857&#x2F;article&#x2F;details&#x2F;128127425</a></p>
<h4 id="3-3-1-模式定义"><a href="#3-3-1-模式定义" class="headerlink" title="3.3.1 模式定义"></a>3.3.1 模式定义</h4><p>1.定义数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.使用数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">USE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.修改数据库</p>
<p>该语句可以对指定的数据库的数据文件和日志文件等进行修改</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.删除数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-3-2基本表定义"><a href="#3-3-2基本表定义" class="headerlink" title="3.3.2基本表定义"></a>3.3.2基本表定义</h4><p>1.定义基本表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>基本表名<span class="operator">&gt;</span> </span><br><span class="line">( <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [<span class="operator">&lt;</span>列级完整性约束条件<span class="operator">&gt;</span>]</span><br><span class="line"> &#123;,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [<span class="operator">&lt;</span>列级完整性约束条件<span class="operator">&gt;</span>]&#125; ...</span><br><span class="line"> [,表级完整性约束条件]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>列级完整性约束,作用范围仅限于该列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">NOT NULL 非约束控制:限制列取值不能为空</span><br><span class="line">DEFAULT 指定列的默认值</span><br><span class="line">UNIQUE 唯一性约束:限制列的取值不能重复</span><br><span class="line">CHECK 限制列的取值范围</span><br><span class="line">PRIMARY KEY 主约束:制定本列为主码</span><br><span class="line">FOREIGN KEY 指定本列为引用其他表的外码 [FOREIGN KEY(&lt;外码列名&gt;)] REFERENCE&lt;外表面&gt;(&lt;外表列名&gt;)</span><br></pre></td></tr></table></figure>

<p>表级约束条件,表级完整性约束的作用范围是整个表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">UNIQUE、CHECK、PRIMARY KEY、FOREIGN KEY可以用于定义表级完整性约束</span><br><span class="line">NOT NULL、DEFAULT不可以</span><br></pre></td></tr></table></figure>

<p>例:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012259333.png" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012259916.png" style="zoom:50%;" />

<p>2.修改基本表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>基本表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>新数据类型<span class="operator">&gt;</span> [<span class="keyword">NULL</span><span class="operator">|</span><span class="keyword">NOT</span> <span class="keyword">NULL</span>]  <span class="comment">--修改已有列</span></span><br><span class="line"><span class="operator">|</span><span class="keyword">ADD</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [约束] <span class="comment">--增加新列</span></span><br><span class="line"><span class="operator">|</span><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="comment">--删除列</span></span><br><span class="line"><span class="operator">|</span><span class="keyword">ADD</span> [<span class="keyword">CONSTRAINT</span> <span class="operator">&lt;</span>约束名<span class="operator">&gt;</span>] <span class="operator">&lt;</span>约束定义<span class="operator">&gt;</span> <span class="comment">--添加约束</span></span><br><span class="line"><span class="operator">|</span><span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> <span class="operator">&lt;</span>约束名<span class="operator">&gt;</span> <span class="comment">--删除约束</span></span><br></pre></td></tr></table></figure>

<p>例:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012304240.png" style="zoom:50%;" />

<p>3.删除基本表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span><span class="operator">&lt;</span>基本表名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>删除一个表时,表的定义、表中的所有数据以及表的索引、触发器、约束等均被删除</p>
<p>不能删除系统表和有外码约束所参照的表！</p>
<h3 id="3-4数据查询"><a href="#3-4数据查询" class="headerlink" title="3.4数据查询"></a>3.4数据查询</h3><h4 id="3-4-1SELECT-语句结构"><a href="#3-4-1SELECT-语句结构" class="headerlink" title="3.4.1SELECT 语句结构"></a>3.4.1SELECT 语句结构</h4><p>1.SELECT语句的基本格式如下</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] <span class="operator">&lt;</span>目标列表达式<span class="operator">&gt;</span> </span><br><span class="line">								[, <span class="operator">&lt;</span>目标列表达式<span class="operator">&gt;</span>]...</span><br><span class="line">	<span class="keyword">FROM</span> <span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span>[, <span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span>]...</span><br><span class="line">	[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]</span><br><span class="line">	[<span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> [<span class="keyword">HAVING</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]]</span><br><span class="line">	[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>]]</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309012310536.png" style="zoom:50%;" />

<p>例:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 客户编号,客户姓名,联系电话</span><br><span class="line"><span class="keyword">FROM</span> CustomerInfo</span><br><span class="line"><span class="keyword">WHERE</span> 所在省市<span class="operator">=</span><span class="string">&#x27;江苏南京&#x27;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-4-2-单表查询"><a href="#3-4-2-单表查询" class="headerlink" title="3.4.2 单表查询"></a>3.4.2 单表查询</h4><p>查询仅涉及一个表,是一种最简单的查询操作</p>
<h5 id="1-选择列"><a href="#1-选择列" class="headerlink" title="1.选择列"></a>1.选择列</h5><p>(1)选择指定列</p>
<p>查询全体学生的学号与姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sname <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure>



<p>(2) 选择表中全部列</p>
<p>查询全体学生的详细记录</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure>



<p>(3)查询经过计算的值</p>
<p>查询全体学生的姓名及出身年份, Sage为年龄</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2022</span><span class="operator">-</span>Sage <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>第<span class="number">2</span>列是一个算术表达式</span><br></pre></td></tr></table></figure>



<p>(4)更改结果列标题</p>
<p>查询全体学生的姓名及出生年份,出生年份标题为Sbirth</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2022</span><span class="operator">-</span>Sage <span class="keyword">AS</span> Sbirth <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure>



<p>(5)替换查询结果中的数据</p>
<p>需要使用查询中的CASE表达式</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CASE</span> </span><br><span class="line">	<span class="keyword">WHEN</span> 条件<span class="number">1</span> <span class="keyword">THEN</span> 表达式<span class="number">1</span></span><br><span class="line">	<span class="keyword">WHEN</span> 条件<span class="number">2</span> <span class="keyword">THEN</span> 表达式<span class="number">2</span></span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">ELSE</span> 表达式</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>替换查询结果中的数据</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 商品编号,商品名称,价格等级<span class="operator">=</span></span><br><span class="line">	<span class="keyword">CASE</span> </span><br><span class="line">		<span class="keyword">WHEN</span> 单价 <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span> <span class="string">&#x27;尚未定价&#x27;</span></span><br><span class="line">		<span class="keyword">WHEN</span> 单价<span class="operator">&lt;</span><span class="number">20</span> <span class="keyword">THEN</span> <span class="string">&#x27;低&#x27;</span></span><br><span class="line">		<span class="keyword">WHEN</span> 单价<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">AND</span> 单价<span class="operator">&lt;=</span><span class="number">50</span> <span class="keyword">THEN</span> <span class="string">&#x27;中&#x27;</span></span><br><span class="line">		<span class="keyword">WHEN</span> 单价<span class="operator">&gt;</span><span class="number">50</span> <span class="keyword">AND</span> 单价<span class="operator">&lt;=</span><span class="number">100</span> <span class="keyword">THEN</span> <span class="string">&#x27;较高&#x27;</span></span><br><span class="line">		<span class="keyword">ELSE</span> <span class="string">&#x27;高&#x27;</span></span><br><span class="line">	<span class="keyword">END</span></span><br><span class="line"><span class="keyword">FROM</span> GoodsInfo</span><br></pre></td></tr></table></figure>



<p>(6) 去除重复行</p>
<p>在OrderList表中查询订购了商品的客户编号</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> 客户编号 <span class="keyword">FROM</span> OrderList</span><br></pre></td></tr></table></figure>

<p>查询选修课程的各种成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Cno,Grade <span class="keyword">FROM</span> SC</span><br></pre></td></tr></table></figure>



<h5 id="2-选择表中的若干元祖"><a href="#2-选择表中的若干元祖" class="headerlink" title="2.选择表中的若干元祖"></a>2.选择表中的若干元祖</h5><p>(1)比较大小</p>
<p>常用比较运算符: &#x3D;,&lt;,&gt;,&gt;&#x3D;,&lt;&#x3D;,!&#x3D; 或 &lt;&gt; , !&gt;, !&lt;,    逻辑运算符 NOT + 比较运算符</p>
<p>查询所有年龄在20岁以下的学生姓名及其年龄</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> <span class="keyword">NOT</span> Sage<span class="operator">&gt;=</span><span class="number">20</span></span><br></pre></td></tr></table></figure>



<p>(2) 指定范围</p>
<p>使用谓词 BETWEEN … AND … , NOT BETWEEN … AND …</p>
<p>查询年龄在20~23岁之间(包括20岁和23岁)的学生姓名、系别和年龄。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sdept,Sage <span class="keyword">WHERE</span> Sage <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span></span><br></pre></td></tr></table></figure>



<p>(3)确定集合</p>
<p>使用谓词 IN&lt;值表&gt; 或 NOT IN &lt;值表&gt;</p>
<p>&lt;值表&gt; : 用, 分隔的一组取值</p>
<p>查询信息系,数学系和计算机学生的姓名和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Ssex <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span> (<span class="string">&#x27;IS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br></pre></td></tr></table></figure>



<p>(4)字符串匹配</p>
<p>a.[NOT] LIKE ‘&lt;匹配串&gt;’ [ESCAPE ‘&lt;换码字符&gt;’]</p>
<p>&#x3D; 可以用来取代LIKE。!&#x3D;或&lt;&gt;运算符取代NOT LIKE 谓词</p>
<p>b.通配符</p>
<p>%代表任意长度(长度可以为0)字符串</p>
<p>例: a%b, 如ab,asjdlab,acb 都满足该匹配串</p>
<p>_(下划线)代表任意单个字符</p>
<p>例: a_b,如acb,afb都满足该匹配串</p>
<p>1)精确匹配</p>
<p>匹配学号为95001的学生的详细情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;95001&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno<span class="operator">=</span><span class="string">&#x27;95001&#x27;</span></span><br></pre></td></tr></table></figure>



<p>2)模糊匹配</p>
<p>查询所有姓刘学生的姓名、学号和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sno,Ssex <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span></span><br></pre></td></tr></table></figure>

<p>查询姓’欧阳’且全名为三个汉字的学生姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sno,Ssex <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;欧阳_&#x27;</span></span><br></pre></td></tr></table></figure>

<p>查询所有不姓刘的学生姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span></span><br></pre></td></tr></table></figure>



<p>3)ESCAPE 短语:</p>
<p>当用户要查询的字符串本身就含有%或_时,要使用ESCAPE ‘&lt;换码字符&gt;’ 短语对通配符进行转义</p>
<p>查询DB_Design课程的课程号和学分</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno,Ccredit <span class="keyword">FROM</span> Course <span class="keyword">WHERE</span> Cname <span class="keyword">LIKE</span> <span class="string">&#x27;DB\_Design&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;\&#x27;</span></span><br></pre></td></tr></table></figure>

<p>查询以”DB_”开头,且倒数第三个字符为i的课程的详细情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Course <span class="keyword">WHERE</span> Cname <span class="keyword">LIKE</span> <span class="string">&#x27;DB\_%i__&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;\&#x27;</span></span><br></pre></td></tr></table></figure>



<p>(5) 涉及空值的查询</p>
<p>使用IS NULL 或IS NOT NULL</p>
<p>某些学生选修课程后没有参加,所以有选课记录,单没有考试成绩。查询缺少成绩的学生的学号和相应的课程号。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Cno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>

<p>(6)多重条件查询</p>
<p>用逻辑运算符AND和OR来联结多个查询条件</p>
<p>AND的优先级高于OR,可以用括号改变优先级</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>查询信息系、数学系和计算机系学生的姓名和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Ssex <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span> <span class="keyword">OR</span> Sdept<span class="operator">=</span><span class="string">&#x27;MA&#x27;</span> <span class="keyword">OR</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span></span><br></pre></td></tr></table></figure>



<p>(7)对查询结果排序</p>
<p>升序:ASC 降序:DESC 默认值为升序(ASC)</p>
<p>ORDER BY &lt;列名1&gt;[ASC|DESC]</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SC <span class="keyword">order</span> <span class="keyword">by</span> Sno <span class="keyword">desc</span>, Cno<span class="operator">/</span><span class="operator">/</span>Cno为升序<span class="keyword">asc</span></span><br></pre></td></tr></table></figure>



<p>(8)聚合函数</p>
<p>聚合函数是指对集合操作但只返回单个值的函数</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020011168.png" style="zoom:50%;" />

<p>查询GoddsInfo表中所有商品的平均单价</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(单价) <span class="keyword">AS</span> <span class="string">&#x27;平均单价&#x27;</span> <span class="keyword">FROM</span> GoodsInfo</span><br></pre></td></tr></table></figure>

<p>查询GoodsInfo表中最高和最低单价</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(单价) <span class="keyword">AS</span> <span class="string">&#x27;最高单价&#x27;</span>, <span class="built_in">MIN</span>(单价) <span class="keyword">AS</span> <span class="string">&#x27;最低单价&#x27;</span> <span class="keyword">FROM</span> GoodsInfo</span><br></pre></td></tr></table></figure>

<p>COUNT用于统计组中满足条件的行数或总行数</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020014187.png" style="zoom:50%;" />

<p>查询客户总数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> <span class="string">&#x27;客户总数&#x27;</span> <span class="keyword">FROM</span> CustomerInfo</span><br></pre></td></tr></table></figure>



<p>(9)对查询结果分组</p>
<p>SELECT语句的GROUP BY子句作用于查询的中间结果表,按某一列或多列值进行分组,值相等的为一组</p>
<p>分组,聚集函数作用于每个分组</p>
<p>不分组,聚集函数作用于整个查询结果</p>
<p>查询各课程的课程的课程号与相应的选修人数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno,<span class="built_in">count</span>(Sno) <span class="keyword">from</span> SC <span class="keyword">group</span> <span class="keyword">by</span> Cno</span><br></pre></td></tr></table></figure>



<p>(10)使用HAVING子句进行筛选</p>
<p>HAVING子句必须与GROUP BY 子句结合使用</p>
<p>查询平均成绩为90分及以上的各课程的课程号与相应的平均成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno,<span class="built_in">AVG</span>(Grade) <span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno <span class="keyword">HAVING</span> <span class="built_in">AVG</span>(Grade) <span class="operator">&gt;=</span> <span class="number">90</span></span><br></pre></td></tr></table></figure>

<p>注!</p>
<p>Where子句中不能用聚合函数作为条件表达式, WHERE AVG(Grade) &gt;&#x3D;90的写法是错误的!</p>
<p>WHERE子句作用于基本表或视图,HAVING短语作用于组</p>
<h4 id="3-4-3-连接查询"><a href="#3-4-3-连接查询" class="headerlink" title="3.4.3 连接查询"></a>3.4.3 连接查询</h4><p>同时涉及多个表的查询称为连接查询</p>
<p>连接查询有两种形式: 1. 连接谓词。2.以JOIN关键字指定的连接。</p>
<h5 id="1-连接谓词"><a href="#1-连接谓词" class="headerlink" title="1.连接谓词"></a>1.连接谓词</h5><p>用来连接两个表的条件称为连接条件或连接谓词，可用逻辑运算符AND和OR 来连接多个连接谓词</p>
<p>连接字段:连接谓词中的列名称为联结字段</p>
<p>一般格式: &lt;表名1&gt;.列名 &lt;比较运算符&gt; &lt;表名2&gt;.&lt;列名2&gt;</p>
<p>等值连接实例:</p>
<p>查询每个学生及其选课情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.<span class="operator">*</span>,SC.<span class="operator">*</span> <span class="keyword">FROM</span> Student,SC <span class="keyword">WHERE</span> Student.Sno<span class="operator">=</span>Sc.Sno</span><br></pre></td></tr></table></figure>

<p>查询选修了三号课程且成绩在90分以上所有学生的学号、姓名-复合条件连接</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname <span class="keyword">from</span> Student,SC <span class="keyword">where</span> Student.Sno<span class="operator">=</span>Sc.Sno <span class="keyword">and</span> Sc.Cno<span class="operator">=</span><span class="number">3</span> <span class="keyword">and</span> SC.Grade<span class="operator">&gt;</span><span class="number">90</span></span><br></pre></td></tr></table></figure>

<p>在Customer表中查询具有相同姓名的客户信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> KH1.<span class="operator">*</span> <span class="keyword">FROM</span> CustomerInfo KH1, CustomerInfo KH2 <span class="keyword">WHERE</span> KH1.客户姓名<span class="operator">=</span>KH2.客户姓名 <span class="keyword">AND</span> KH1.客户编号<span class="operator">&lt;&gt;</span>KH2.客户编号</span><br></pre></td></tr></table></figure>

<h5 id="2-以JOIN关键字指定的连接"><a href="#2-以JOIN关键字指定的连接" class="headerlink" title="2.以JOIN关键字指定的连接"></a>2.以JOIN关键字指定的连接</h5><p>INNER JOIN-内连接, OUTER JOIN-外连接</p>
<p>a.内连接</p>
<p>内连接按照ON所指定的连接条件合并两个表,返回满足条件的行,一般格式</p>
<p>FROM &lt;表名1&gt; JOIN &lt;表名2&gt; ON &lt;表名1.列名&gt;&#x3D;&lt;表名2.列名&gt;</p>
<p>例: 查找商品订购数据库每个订购了商品的客户及订单情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.<span class="operator">*</span>,b.商品编号,b.订购时间,b.数量,b.需要日期,b.付款方式,b.送货方式 <span class="keyword">FROM</span> CustomerInfo a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> OrderList b <span class="keyword">ON</span> CustomerInfo.客户编号<span class="operator">=</span>OrderList.客户编号</span><br></pre></td></tr></table></figure>

<p>用FROM的JOIN关键字表达下列查询:在商品数据库中查询订购了类别为”体育用品”的客户的客户编号,客户姓名,联系方式以及商品的需要日期</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> CustomerInfo.客户编号,客户姓名,联系电话,需要日期 <span class="keyword">FROM</span> CustomerInfo <span class="keyword">JOIN</span> GoodsInfo <span class="keyword">JOIN</span> OrderList <span class="keyword">ON</span> GoodsInfo.商品编号<span class="operator">=</span>OrderList.商品编号 <span class="keyword">ON</span> CustomerInfo.客户编号 <span class="operator">=</span> OrderList.客户编号 <span class="keyword">WHERE</span> 商品类别 <span class="operator">=</span> <span class="string">&#x27;体育用品&#x27;</span></span><br></pre></td></tr></table></figure>

<p>b.外连接</p>
<p>外连接的结果表不但包含满足连接条件的行,还包括相应表中的所有行.</p>
<p>外连接包括三种: 左外连接,右外连接,完全外连接</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade <span class="keyword">from</span> Student <span class="keyword">left</span> (<span class="keyword">outer</span>) <span class="keyword">join</span> SC <span class="keyword">on</span> Student.Sno<span class="operator">=</span>SC.Sno</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Stuent.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade <span class="keyword">from</span> SC <span class="keyword">right</span> <span class="keyword">join</span> Student <span class="keyword">ON</span> Student.Sno<span class="operator">=</span>SC.Sno</span><br></pre></td></tr></table></figure>



<h4 id="3-4-4-嵌套查询"><a href="#3-4-4-嵌套查询" class="headerlink" title="3.4.4 嵌套查询"></a>3.4.4 嵌套查询</h4><p>一个SELECT-FROM-WHERE 语句称为一个查询块</p>
<p>将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中的查询称为嵌套查询</p>
<p>子查询不能用ORDER BY 子句!</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname	<span class="operator">/</span><span class="operator">/</span>外层查询<span class="operator">/</span>父查询</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span> </span><br><span class="line">	( SELET Sno <span class="keyword">FROM</span> SC	<span class="operator">/</span><span class="operator">/</span>内层查询<span class="operator">/</span>子查询 </span><br><span class="line">     <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;2&#x27;</span>) </span><br></pre></td></tr></table></figure>



<p>引出子查询的谓词: </p>
<ol>
<li>带有IN谓词的子查询</li>
<li>带有比较运算符的子查询</li>
<li>带有ALL(SOME) 或ANY谓词的子查询</li>
<li>带有EXISTS谓词的子查询</li>
</ol>
<h5 id="1-带有IN谓词的子查询"><a href="#1-带有IN谓词的子查询" class="headerlink" title="1.带有IN谓词的子查询"></a>1.带有IN谓词的子查询</h5><p>IN和NOT IN 子查询只能返回一列数据</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> CustomerInfo <span class="keyword">WHERE</span> 所在省市 <span class="keyword">IN</span> (<span class="keyword">SELECT</span> 所在省市 <span class="keyword">FROM</span> Customer <span class="keyword">WHERE</span> 客户姓名<span class="operator">=</span><span class="string">&#x27;张小林&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="2-带有比较运算符的子查询"><a href="#2-带有比较运算符的子查询" class="headerlink" title="2.带有比较运算符的子查询"></a>2.带有比较运算符的子查询</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> OrderList <span class="keyword">WHERE</span> 商品编号<span class="operator">=</span><span class="string">&#x27;10010001&#x27;</span> <span class="keyword">AND</span> 数量 <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(数量) <span class="keyword">FROM</span> OrderList <span class="keyword">WHERE</span> 商品编号<span class="operator">=</span><span class="string">&#x27;10010001&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="3-带有ALL-SOME-或ANY谓词的子查询"><a href="#3-带有ALL-SOME-或ANY谓词的子查询" class="headerlink" title="3.带有ALL(SOME) 或ANY谓词的子查询"></a>3.带有ALL(SOME) 或ANY谓词的子查询</h5><p>ALL指定表达式要与子查询结果集中地每个值都进行比较,当表达式每个值都满足比较关系时,才返回TRUE,否则返回FALSE</p>
<p>ANY与SOME的限制含义相同,通常采用ANY,表示表达式只要与子查询结果集中的某个值满足比较关系式就返回TRUE,否则返回FLASE</p>
<p>查询比某个食品类的商品单价低的商品信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 商品类别<span class="operator">&lt;&gt;</span><span class="string">&#x27;食品&#x27;</span> <span class="keyword">AND</span> 单价<span class="operator">&lt;</span><span class="keyword">ANY</span></span><br><span class="line">	(</span><br><span class="line">    	<span class="keyword">SELECT</span> 单价 <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 食品类别<span class="operator">=</span><span class="string">&#x27;食品&#x27;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>ANY在子查询返回结果为NULL时,表达式为FALSE</p>
<p>ALL在子查询返回结果为NULL时,表达式为TRUE</p>
<h5 id="4-带有EXISTS谓词的子查询"><a href="#4-带有EXISTS谓词的子查询" class="headerlink" title="4.带有EXISTS谓词的子查询"></a>4.带有EXISTS谓词的子查询</h5><p>EXISTS谓词用于测试子查询的结果是否为空表,若子查询结果集不为空,EXISTS返回TURE,否则返回FALSE</p>
<p>查找订购了编号为”10010001”商品的客户姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 客户姓名 <span class="keyword">FROM</span> CustomerInfo a <span class="keyword">WHERE</span> <span class="keyword">EXISTS</span> (</span><br><span class="line">			<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> OrderList b <span class="keyword">WHERE</span> b.客户编号<span class="operator">=</span>a.客户编号 <span class="keyword">AND</span></span><br><span class="line">    		b.商品编号<span class="operator">=</span><span class="string">&#x27;10010001&#x27;</span>   </span><br><span class="line">			)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020800669.png"></p>
<p>查询选修了全部课程的学生姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> </span><br><span class="line">(</span><br><span class="line">	<span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> Course</span><br><span class="line">    <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">    		(</span><br><span class="line">            	<span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line">                <span class="keyword">FROM</span> SC</span><br><span class="line">                <span class="keyword">WHERE</span> Sno<span class="operator">=</span>Student.Sno <span class="keyword">AND</span></span><br><span class="line">                	Cno<span class="operator">=</span>Course.Cno</span><br><span class="line">            )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h4 id="3-4-5集合查询"><a href="#3-4-5集合查询" class="headerlink" title="3.4.5集合查询"></a>3.4.5集合查询</h4><p>集合操作主要包括: 并,交,差</p>
<h5 id="1-并"><a href="#1-并" class="headerlink" title="1.并"></a>1.并</h5><p>使用UNION或OR</p>
<p>查询计算机科学系的学生及年龄不大于19岁的学生</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> </span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">19</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">OR</span> Sage<span class="operator">&lt;=</span><span class="number">19</span></span><br></pre></td></tr></table></figure>

<h5 id="2-交"><a href="#2-交" class="headerlink" title="2.交"></a>2.交</h5><p>使用INTERSECT</p>
<p>查询单价小于50的商品与库存量大于20的商品的交集</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 单价<span class="operator">&lt;</span><span class="number">50</span></span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 库存量<span class="operator">&gt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<h5 id="3-差"><a href="#3-差" class="headerlink" title="3.差"></a>3.差</h5><p>使用EXCEPT</p>
<p>查询单价小于50的商品与库存量大于20的商品的差集</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 单价<span class="operator">&lt;</span><span class="number">50</span></span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> GoodsInfo <span class="keyword">WHERE</span> 库存量<span class="operator">&gt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<h5 id="4-集合查询排序"><a href="#4-集合查询排序" class="headerlink" title="4.集合查询排序"></a>4.集合查询排序</h5><p>ORDER BY 子句只能用于对最终查询结果排序</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdep<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;=</span><span class="number">19</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Sno</span><br></pre></td></tr></table></figure>

<h3 id="3-5数据更新"><a href="#3-5数据更新" class="headerlink" title="3.5数据更新"></a>3.5数据更新</h3><p>插入语句:INSERT</p>
<p>两种插入方式:1.插入单个元祖2.插入子查询结果</p>
<h5 id="1-数据插入"><a href="#1-数据插入" class="headerlink" title="1.数据插入"></a>1.数据插入</h5><p>1.插入元祖</p>
<p>插入一条选课记录(‘95020’,’1’)</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SC(Sno,Cno) <span class="keyword">VALUES</span>(<span class="string">&#x27;95020&#x27;</span>,<span class="string">&#x27;1&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>2.插入子查询结果</p>
<p>对每一个系,求学生的平均年龄,并把结果存入数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*第一步建表*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Deptage</span><br><span class="line">(</span><br><span class="line">	Sdept <span class="type">CHAR</span>(<span class="number">15</span>) <span class="keyword">PRIMARY</span> KEY, <span class="comment">/*系名*/</span></span><br><span class="line">    Avgage <span class="type">SMALLINT</span>  <span class="comment">/*学生平均年龄*/</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">/*第二步插入数据*/</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Deptage(Sdept,Avgage)</span><br><span class="line"><span class="keyword">SELECT</span> Sdept,<span class="built_in">AVG</span>(Sage) <span class="keyword">FROM</span> Student <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sdept</span><br></pre></td></tr></table></figure>

<h5 id="2-数据修改"><a href="#2-数据修改" class="headerlink" title="2.数据修改"></a>2.数据修改</h5><p>将所有学生的年龄增加1岁</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> Student <span class="keyword">SET</span> Sage<span class="operator">=</span>Sage<span class="operator">+</span><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>将计算机系全体学生的成绩置零</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> Grade<span class="operator">=</span><span class="number">0</span> <span class="keyword">WHERE</span> Sno <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="3-数据删除"><a href="#3-数据删除" class="headerlink" title="3.数据删除"></a>3.数据删除</h5><p>DELETE删除的是表中的数据,不是表的结构.</p>
<p>DROP删除的不仅是标的内容还有表的定义</p>
<p>删除商品订购数据库的CustomerInfo表中编号为100007的客户信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> CustomerInfo <span class="keyword">WHERE</span> 客户编号<span class="operator">=</span><span class="string">&#x27;100007&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="4-索引定义"><a href="#4-索引定义" class="headerlink" title="4.索引定义"></a>4.索引定义</h5><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020833197.png" style="zoom: 67%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020835802.png" style="zoom:67%;" />

<p>删除索引: DROP INDEX &lt;基本表名&gt;.&lt;索引名&gt;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> INDEX CustomerInfo.CustomerID_ind</span><br></pre></td></tr></table></figure>

<h3 id="3-6视图"><a href="#3-6视图" class="headerlink" title="3.6视图"></a>3.6视图</h3><h5 id="1-视图定义"><a href="#1-视图定义" class="headerlink" title="1.视图定义"></a>1.视图定义</h5><p>从一个或多个基本表(或视图)导出的表。视图是一个虚表，数据库中值存储视图的定义。</p>
<p>1.创建视图Customer_NJview,其内容为江苏南京的客户信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> Customer_NJview</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">	<span class="keyword">FROM</span> CustomerInfo</span><br><span class="line">	<span class="keyword">WHERE</span> 所在省市<span class="operator">=</span><span class="string">&#x27;江苏南京&#x27;</span></span><br></pre></td></tr></table></figure>

<p>创建视图OrderList_NJview 其内容为江苏南京的客户编号及其订购的商品编号</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> OrderList_NJview</span><br><span class="line"><span class="keyword">AS</span> </span><br><span class="line">	<span class="keyword">SELECT</span> a.<span class="operator">*</span>,商品编号</span><br><span class="line">	<span class="keyword">FROM</span> CustomerInfo a,OrderList b</span><br><span class="line">	<span class="keyword">WHERE</span> a.所在省市<span class="operator">=</span><span class="string">&#x27;江苏南京&#x27;</span> <span class="keyword">AND</span> a.客户编号<span class="operator">=</span>b.客户编号</span><br></pre></td></tr></table></figure>

<p>创建”江苏南京”订购了编号为10010001商品的所有客户的客户编号、客户姓名视图Order_NJView_2</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> Order_NJView_2(客户编号,客户姓名)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> 客户编号,客户姓名</span><br><span class="line">	<span class="keyword">FROM</span> OrderList_NJview</span><br><span class="line">	<span class="keyword">WHERE</span> 商品编号<span class="operator">=</span><span class="string">&#x27;10010001&#x27;</span></span><br></pre></td></tr></table></figure>

<p>2.修改视图Order_NJView_2,使其内容是选购了编号为30010001的所有江苏南京客户的客户编号,客户姓名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">VIEW</span> Order_NJView_2</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> 客户编号,客户姓名</span><br><span class="line">	<span class="keyword">FROM</span> OrderList_NJView</span><br><span class="line">	<span class="keyword">WHERE</span> 商品编号<span class="operator">=</span><span class="string">&#x27;30010001&#x27;</span></span><br></pre></td></tr></table></figure>

<p>3.删除视图OrderList_NJView</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> OrderList_NJView</span><br></pre></td></tr></table></figure>

<h5 id="2-视图查询"><a href="#2-视图查询" class="headerlink" title="2.视图查询"></a>2.视图查询</h5><p>查询视图与查询表相同</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> Sno,Sname,Sage</span><br><span class="line">	<span class="keyword">FROM</span> Student</span><br><span class="line">	<span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span></span><br></pre></td></tr></table></figure>

<p>在信息系学生视图中找出年龄小于20岁的学生</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sage,</span><br><span class="line"><span class="keyword">FROM</span> IS_Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<h5 id="3-视图更新"><a href="#3-视图更新" class="headerlink" title="3.视图更新"></a>3.视图更新</h5><p>1.插入数据:INSERT</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> CInfo_JS(客户编号,客户姓名,性别,出生日期,所在省市) <span class="keyword">VALUES</span>(<span class="string">&#x27;100008&#x27;</span>,<span class="string">&#x27;赵平&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1993-5-19&#x27;</span>,<span class="string">&#x27;江苏南京&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>2.修改数据:INSERT</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> IS_Student <span class="keyword">SET</span> Sname<span class="operator">=</span><span class="string">&#x27;刘晨&#x27;</span> <span class="keyword">WHERE</span> Sno<span class="operator">=</span><span class="string">&#x27;95002&#x27;</span></span><br></pre></td></tr></table></figure>

<p>3.删除数据:DELETE</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> CInfo_JS <span class="keyword">WHERE</span> 客户编号<span class="operator">=</span><span class="string">&#x27;100008&#x27;</span></span><br></pre></td></tr></table></figure>

<p>4.为了防止用户通过对视图数据进行更新时,对不属于试图范围内的基本表数据进行操作,可在定义视图时加上WITH CHECK OPTION</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student_1</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">	<span class="keyword">FROM</span> Student</span><br><span class="line">	<span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION</span><br></pre></td></tr></table></figure>

<p>视图更新</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020857780.png" style="zoom:67%;" />

<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020858791.png" style="zoom:67%;" />

<h2 id="4-数据库设计"><a href="#4-数据库设计" class="headerlink" title="4.数据库设计"></a>4.数据库设计</h2><p>1.信息系统是提供信息、辅助人们对环境进行控制和进行决策的系统<br>数据库是信息系统的核心和基础。</p>
<p>2.数据库的设计的目标：为用户和各种应用系统提供一个信息基础设施和高效率的运行环境，包括：<br>数据的存储效率，存储空间利用率，系统运行管理效率</p>
<p>3.数据库设计的基本步骤</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020907265.png" style="zoom: 67%;" />

<p>4.E-R图像关系模式的转换</p>
<p>a. 1:1 联系</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020910218.png" style="zoom:67%;" />

<p>例:</p>
<img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020911768.png" style="zoom:67%;" />

<p>b. 1:N联系</p>
<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020912509.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020918872.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020918963.png"></p>
<p>c.M:N联系</p>
<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020919865.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020919008.png"></p>
<h2 id="5-关系规范化理论"><a href="#5-关系规范化理论" class="headerlink" title="5.关系规范化理论"></a>5.关系规范化理论</h2><p>实在来不及了,看的这个速成</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Bq4y1Y7GC?p=2&vd_source=3a0549a10a00b9b6b6653658bbdb92b2">https://www.bilibili.com/video/BV1Bq4y1Y7GC?p=2&vd_source&#x3D;3a0549a10a00b9b6b6653658bbdb92b2</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://Xrect1fy.github.io">Xrect1fy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://xrect1fy.github.io/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/">http://xrect1fy.github.io/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://Xrect1fy.github.io" target="_blank">Xrect1fy's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="post-meta__tags" href="/tags/%E7%90%86%E8%AE%BA%E8%AF%BE/">理论课</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020112385.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/03/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%BA%8C)-%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="域渗透(二)-内网信息收集"><img class="cover" src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309031411161.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">域渗透(二)-内网信息收集</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/30/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%B8%80)-%E5%86%85%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="域渗透(一)-内网基础知识"><img class="cover" src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202308302059595.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">域渗透(一)-内网基础知识</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/tx.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Xrect1fy</div><div class="author-info__description">Welcome to Xrect1fy's blog!<br />联系加v:x1696132196🐱</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Xrect1fy/"><i class="fab fa-github || yellow"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1696132196&amp;website=www.xrect1fy.com" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/Xrect1fy" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:x1696132196@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86-%E6%9C%9F%E6%9C%AB%E9%80%9F%E6%88%90"><span class="toc-text">数据库系统原理-期末速成</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%A7%88"><span class="toc-text">1. 数据库概览</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8F%91%E5%B1%95"><span class="toc-text">1.1数据库管理技术的发展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F"><span class="toc-text">1.2理解数据库系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">1.3数据库系统体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-text">1.4数据模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-text">2.关系数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">2.1关系数据结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E5%85%B3%E7%B3%BB%E6%93%8D%E4%BD%9C"><span class="toc-text">2.2关系操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E8%A8%80SQL"><span class="toc-text">3.关系数据库语言SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-SQL%E6%A6%82%E8%BF%B0"><span class="toc-text">3.1 SQL概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-SQL%E8%AF%AD%E8%A8%80%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.2 SQL语言的数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="toc-text">3.3 数据定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89"><span class="toc-text">3.3.1 模式定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2%E5%9F%BA%E6%9C%AC%E8%A1%A8%E5%AE%9A%E4%B9%89"><span class="toc-text">3.3.2基本表定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.4数据查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1SELECT-%E8%AF%AD%E5%8F%A5%E7%BB%93%E6%9E%84"><span class="toc-text">3.4.1SELECT 语句结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.4.2 单表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E9%80%89%E6%8B%A9%E5%88%97"><span class="toc-text">1.选择列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%80%89%E6%8B%A9%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8B%A5%E5%B9%B2%E5%85%83%E7%A5%96"><span class="toc-text">2.选择表中的若干元祖</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-3-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.4.3 连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%BF%9E%E6%8E%A5%E8%B0%93%E8%AF%8D"><span class="toc-text">1.连接谓词</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BB%A5JOIN%E5%85%B3%E9%94%AE%E5%AD%97%E6%8C%87%E5%AE%9A%E7%9A%84%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.以JOIN关键字指定的连接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-4-%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.4.4 嵌套查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%B8%A6%E6%9C%89IN%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">1.带有IN谓词的子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">2.带有比较运算符的子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B8%A6%E6%9C%89ALL-SOME-%E6%88%96ANY%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.带有ALL(SOME) 或ANY谓词的子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%B8%A6%E6%9C%89EXISTS%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">4.带有EXISTS谓词的子查询</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-5%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">3.4.5集合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%B9%B6"><span class="toc-text">1.并</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%BA%A4"><span class="toc-text">2.交</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B7%AE"><span class="toc-text">3.差</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2%E6%8E%92%E5%BA%8F"><span class="toc-text">4.集合查询排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="toc-text">3.5数据更新</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5"><span class="toc-text">1.数据插入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9"><span class="toc-text">2.数据修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4"><span class="toc-text">3.数据删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E7%B4%A2%E5%BC%95%E5%AE%9A%E4%B9%89"><span class="toc-text">4.索引定义</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6%E8%A7%86%E5%9B%BE"><span class="toc-text">3.6视图</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%A7%86%E5%9B%BE%E5%AE%9A%E4%B9%89"><span class="toc-text">1.视图定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%A7%86%E5%9B%BE%E6%9F%A5%E8%AF%A2"><span class="toc-text">2.视图查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%A7%86%E5%9B%BE%E6%9B%B4%E6%96%B0"><span class="toc-text">3.视图更新</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-text">4.数据库设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%85%B3%E7%B3%BB%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA"><span class="toc-text">5.关系规范化理论</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/03/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%BA%8C)-%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="域渗透(二)-内网信息收集"><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309031411161.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="域渗透(二)-内网信息收集"/></a><div class="content"><a class="title" href="/2023/09/03/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%BA%8C)-%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="域渗透(二)-内网信息收集">域渗透(二)-内网信息收集</a><time datetime="2023-09-03T05:54:49.000Z" title="发表于 2023-09-03 13:54:49">2023-09-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" title="数据库基础"><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202309020112385.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库基础"/></a><div class="content"><a class="title" href="/2023/09/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" title="数据库基础">数据库基础</a><time datetime="2023-09-01T17:07:00.000Z" title="发表于 2023-09-02 01:07:00">2023-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/30/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%B8%80)-%E5%86%85%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="域渗透(一)-内网基础知识"><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202308302059595.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="域渗透(一)-内网基础知识"/></a><div class="content"><a class="title" href="/2023/08/30/%E5%9F%9F%E6%B8%97%E9%80%8F(%E4%B8%80)-%E5%86%85%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="域渗透(一)-内网基础知识">域渗透(一)-内网基础知识</a><time datetime="2023-08-30T12:54:08.000Z" title="发表于 2023-08-30 20:54:08">2023-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/29/Typora%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%A4%8D%E7%8E%B0/" title="Typora 远程代码执行漏洞复现"><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202308291359656.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Typora 远程代码执行漏洞复现"/></a><div class="content"><a class="title" href="/2023/08/29/Typora%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%A4%8D%E7%8E%B0/" title="Typora 远程代码执行漏洞复现">Typora 远程代码执行漏洞复现</a><time datetime="2023-08-29T05:53:40.000Z" title="发表于 2023-08-29 13:53:40">2023-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/17/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C%E7%BB%83%E4%B9%A0-CTF%E5%85%A5%E9%97%A8(%E4%BA%8C)/" title="攻防世界练习-CTF入门(二)"><img src="https://cdn.jsdelivr.net/gh/Xrect1fy/picorep//img/202308171641993.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="攻防世界练习-CTF入门(二)"/></a><div class="content"><a class="title" href="/2023/08/17/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C%E7%BB%83%E4%B9%A0-CTF%E5%85%A5%E9%97%A8(%E4%BA%8C)/" title="攻防世界练习-CTF入门(二)">攻防世界练习-CTF入门(二)</a><time datetime="2023-08-17T08:38:17.000Z" title="发表于 2023-08-17 16:38:17">2023-08-17</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Xrect1fy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script src="http://cdn.bootcss.com/pace/1.0.2/pace.min.js" async></script><div class="aplayer no-destroy" data-id="8663354741" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-lrcType="-1"> </div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="XSS,SQL,Python,Go,Java,C++,CSRF,SSRF,upload,weakpass" data-fontsize="20px" data-random="true" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>